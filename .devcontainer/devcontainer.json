{
  "name": "Git Create Update Floating Version Tag Action",
  "image": "mcr.microsoft.com/devcontainers/javascript-node:1-20-bullseye",
  
  "features": {
    "ghcr.io/devcontainers/features/git:1": {
      "version": "latest"
    },
    "ghcr.io/devcontainers/features/github-cli:1": {
      "version": "latest"
		},
		"ghcr.io/devcontainers/features/docker-in-docker:2": {
			"version": "latest",
			"dockerDashComposeVersion": "v2"
    }
  },

  "customizations": {
    "vscode": {
			"extensions": ["dbaeumer.vscode-eslint", "esbenp.prettier-vscode", "ms-vscode.vscode-typescript-next", "firsttris.vscode-jest-runner", "orta.vscode-jest"],
      "settings": {
        "editor.formatOnSave": true,
        "editor.defaultFormatter": "esbenp.prettier-vscode",
        "editor.codeActionsOnSave": {
          "source.fixAll.eslint": "explicit"
        },
        "typescript.tsdk": "node_modules/typescript/lib",
        "typescript.enablePromptUseWorkspaceTsdk": true,
        "jest.autoRun": "off",
        "jest.showCoverageOnLoad": false
      }
    }
  },

	"postCreateCommand": "bash .devcontainer/setup-container.sh",
  
  "remoteUser": "node",
  
	"remoteEnv": {
		"GITHUB_TOKEN": "${localEnv:GITHUB_TOKEN}",
		"GITEA_TOKEN": "${localEnv:GITEA_TOKEN}",
		"GH_TOKEN": "${localEnv:GH_TOKEN}"
	},

	"mounts": ["source=${localWorkspaceFolder},target=/workspace,type=bind,consistency=cached"]
}
